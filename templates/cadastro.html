<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cadastro e Login Seguro com Flask</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    
    <style>
        /* Pequeno ajuste inline para cores de link: mant√©m simples sem tocar no CSS global */
        a { color: var(--primary); text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <div class="layout">
            <!-- Coluna da esquerda: Galeria de imagens (adicione imagens em static/images/) -->
            <div class="left-column">
                <div class="brand">Projeto de Cadastro</div>
                <h1>Bem-vindo(a)!</h1>
                <h5>Este e um sistema de abertura de contas simples . criado por Elias Dias</h5>
                <p class="small-title"> </p>
                <div class="gallery">
                    <!-- Troque as URLs abaixo por imagens reais colocadas em static/images/ -->
                    <img src="../static/images/site python.jpg" alt="" srcset="" width="300" height="200">
                    <img src="../static/images/site teste py.jpeg" alt="" srcset="" width="300" height="200">
                    <img src="../static/images/image testete py.jpeg" alt="" srcset="" width="300" height="200">
                    <img src="../static/images/dsdsadas.jpeg" alt="" srcset="" width="300" height="200">
                </div>   
            </div>

            <!-- Coluna da direita: formul√°rios menores e empilhados -->
            <div class="right-column">
                {% if success_msg %}
                    <div class="card message message-success">{{ success_msg }}</div>
                {% endif %}
                {% if error_msg %}
                    <div class="card message message-error">{{ error_msg }}</div>
                {% endif %}
                {% if login_error %}
                    <div class="card message message-error">{{ login_error }}</div>
                {% endif %}
                {% if user_logged %}
                    <div class="card">
                        <div class="brand">Ol√°, {{ user_logged.username }} üëã</div>
                        <p class="small-title">Voc√™ est√° logado. Clique abaixo para ver seu perfil ou sair.</p>
                        <p><a href="{{ url_for('perfil') }}">Ir para meu perfil</a></p>
                        <form action="{{ url_for('logout') }}" method="get" style="margin-top:10px;">
                            <button type="submit" class="btn secondary">Sair (Logout)</button>
                        </form>
                    </div>
                {% else %}
                    <!-- Caixa de login pequena no topo direito -->
                    <div class="card login-small">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
                            <div class="login-badge">Fazer Login</div>
                            <div class="small-title">J√° tem conta? Entre aqui.</div>
                        </div>
                        <form method="POST" action="{{ url_for('login') }}">
                            <div class="form-row">
                                <input type="text" name="username" id="username_login" placeholder="Usu√°rio" required />
                            </div>
                            <div class="form-row">
                                <input type="password" name="password" id="password_login" placeholder="Senha" required />
                            </div>
                            <button type="submit" class="btn">Entrar</button>
                        </form>
                    </div>

                    <!-- Formul√°rio de Cadastro (tamanho menor e visual elegante) -->
                    <div class="card">
                        <div class="brand">Criar Conta</div>
                        <p class="small-title">√â r√°pido e gratis crie sua conta para acessar recursos restritos.</p>
                        <form method="POST" action="{{ url_for('cadastrar') }}">
                            <div class="form-row">
                                <input type="text" name="username" id="username" placeholder="Usu√°rio" required />
                            </div>
                            <div class="form-row">
                                <input type="password" name="password" id="password" placeholder="Senha" required />
                            </div>
                            <button type="submit" class="btn">Cadastrar</button>
                        </form>
                    </div>
                    
                    <!-- Menu do painel removido por solicita√ß√£o do usu√°rio -->

                    <!-- Bloco de Not√≠cias (abaixo do acesso) -->
                    <div class="card news-block">
                        <h3>Not√≠cias</h3>
                        {% if user_logged and user_logged.username == 'admin' %}
                        <form method="POST" action="{{ url_for('criar_noticia') }}">
                            <div class="form-row">
                                <input type="text" name="title" placeholder="T√≠tulo da not√≠cia" />
                            </div>
                            <div class="form-row">
                                <textarea name="content" placeholder="Digite a not√≠cia..." style="width:100%; min-height:64px; padding:8px; border-radius:8px; background:rgba(255,255,255,0.02); border:1px solid rgba(124,58,237,0.06); color:var(--muted)"></textarea>
                            </div>
                            <button type="submit" class="btn">Publicar Not√≠cia</button>
                        </form>
                        {% else %}
                        <div class="small-title">Implementamos uma nova camada de criptografia na sess√£o do usu√°rio (cookies) para garantir a m√°xima seguran√ßa dos seus dados. Mantenha seu navegador sempre atualizado!</div>
                        {% endif %}
                        <hr style="opacity:0.06; margin:12px 0;" />
                        <div class="news-list">
                            {% if noticias %}
                                {% for n in noticias %}
                                    <div class="news-item">
                                        <div class="news-title">{{ n.title }}</div>
                                        <div class="news-content">{{ n.content }}</div>
                                    </div>
                                {% endfor %}
                            {% else %}
                                <div class="small-title">üåé Cidades e √Åreas NOVAS e Exclusivas: Esque√ßa o farm de sempre! Mergulhe em regi√µes in√©ditas, com hunts desafiadoras e quests criadas do zero. Explore segredos que voc√™ nunca viu em outro lugar!.</div>
                            {% endif %}
                        </div>
                    </div>
                {% endif %}

                <!-- Lista de usu√°rios removida por solicita√ß√£o do usu√°rio -->
            </div>
        </div>
    </div>

    
</body>
</html>